<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Rectangle?>

<StackPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.kamoteracer.controller.InputInitialsController"
           fx:id="root" pickOnBounds="false">
    <!-- semi-transparent overlay -->
    <Rectangle width="550" height="440" fill="#00000066" />

    <!-- Dialog container (tighter) -->
    <StackPane fx:id="dialog" maxWidth="340" maxHeight="220" prefWidth="340" prefHeight="220">
        <children>
            <!-- white card background -->
            <ImageView fitWidth="340" preserveRatio="true">
                <image>
                    <Image url="@/images/InputInitials_WhiteBackground.png"/>
                </image>
            </ImageView>
            <!-- content -->
            <VBox alignment="TOP_CENTER" spacing="10" fillWidth="true">
                <!-- Top blue chrome (no text inside) -->
                <StackPane prefHeight="28" maxHeight="28">
                    <children>
                        <ImageView fitWidth="340" fitHeight="28" preserveRatio="false">
                            <image>
                                <Image url="@/images/InputInitials_BlueBackground.png"/>
                            </image>
                        </ImageView>
                        <Button fx:id="closeButton" text="âœ•" StackPane.alignment="TOP_RIGHT" focusTraversable="false"
                                prefWidth="28" prefHeight="28" minWidth="28" minHeight="28" maxWidth="28" maxHeight="28"
                                style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-weight: bold;"/>
                    </children>
                </StackPane>

                <!-- Header image sits below the blue bar -->
                <ImageView fitWidth="220" preserveRatio="true">
                    <image>
                        <Image url="@/images/InputInitialsHeader.png"/>
                    </image>
                </ImageView>

                <!-- letters area (centered) -->
                <VBox alignment="CENTER" spacing="10" prefWidth="340">
                    <HBox alignment="CENTER" spacing="28" prefWidth="340">
                        <!-- Letter 1 -->
                        <VBox alignment="CENTER" spacing="4">
                            <ImageView fx:id="up1" fitWidth="24" preserveRatio="true" visible="true">
                                <image>
                                    <Image url="@/images/InputInitials_Arrow.png"/>
                                </image>
                            </ImageView>
                            <Label fx:id="ch1" text="A" styleClass="initial-letter" />
                            <ImageView fx:id="down1" fitWidth="24" preserveRatio="true" rotate="180" visible="true">
                                <image>
                                    <Image url="@/images/InputInitials_Arrow.png"/>
                                </image>
                            </ImageView>
                            <ImageView fx:id="ul1" fitWidth="24" preserveRatio="true" visible="false">
                                <image>
                                    <Image url="@/images/InputInitials_Underline.png"/>
                                </image>
                            </ImageView>
                        </VBox>
                        <!-- Letter 2 -->
                        <VBox alignment="CENTER" spacing="4">
                            <ImageView fx:id="up2" fitWidth="24" preserveRatio="true" visible="false">
                                <image>
                                    <Image url="@/images/InputInitials_Arrow.png"/>
                                </image>
                            </ImageView>
                            <Label fx:id="ch2" text="A" styleClass="initial-letter" />
                            <ImageView fx:id="down2" fitWidth="24" preserveRatio="true" rotate="180" visible="false">
                                <image>
                                    <Image url="@/images/InputInitials_Arrow.png"/>
                                </image>
                            </ImageView>
                            <ImageView fx:id="ul2" fitWidth="24" preserveRatio="true" visible="true">
                                <image>
                                    <Image url="@/images/InputInitials_Underline.png"/>
                                </image>
                            </ImageView>
                        </VBox>
                        <!-- Letter 3 -->
                        <VBox alignment="CENTER" spacing="4">
                            <ImageView fx:id="up3" fitWidth="24" preserveRatio="true" visible="false">
                                <image>
                                    <Image url="@/images/InputInitials_Arrow.png"/>
                                </image>
                            </ImageView>
                            <Label fx:id="ch3" text="A" styleClass="initial-letter" />
                            <ImageView fx:id="down3" fitWidth="24" preserveRatio="true" rotate="180" visible="false">
                                <image>
                                    <Image url="@/images/InputInitials_Arrow.png"/>
                                </image>
                            </ImageView>
                            <ImageView fx:id="ul3" fitWidth="24" preserveRatio="true" visible="true">
                                <image>
                                    <Image url="@/images/InputInitials_Underline.png"/>
                                </image>
                            </ImageView>
                        </VBox>
                    </HBox>

                    <!-- submit button centered under the letters block with slight offset -->
                    <HBox alignment="CENTER" prefWidth="340">
                        <Button fx:id="submitButton" focusTraversable="false" mnemonicParsing="false" styleClass="submit-button" translateX="36" translateY="-16">
                            <graphic>
                                <ImageView fitWidth="150" preserveRatio="true">
                                    <image>
                                        <Image url="@/images/InputInitials_SubmitButton.png"/>
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                    </HBox>
                </VBox>
            </VBox>
        </children>
    </StackPane>

    <stylesheets>
        <URL value="@/font/pressstart.css" />
    </stylesheets>
</StackPane>
